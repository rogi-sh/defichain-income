<div>
  <div class="mt-2">
    <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
      <div class="inline-lg-block rounded bg-gray-100 dark:bg-gray-700 dark:text-white p-2">
        <h1 class="text-lg font-bold">TVL</h1>
        <div class="grid gap-2">
          <div>
            <span class="mr-2">TVL Total:</span>
            <div
              class="inline-block rounded-full bg-pink-500 hover:bg-gray-800 transition-all text-white text-sm px-2 py-1 cursor-pointer text-center">
              <app-price [fiat]="fiat" [usdPrice]="getTotalTVL()"></app-price>
            </div>
          </div>

          <div>
            <span class="mr-2">Total DFI Locked:</span>
            <div
              class="inline-block rounded-full bg-pink-500 hover:bg-gray-800 transition-all text-white text-sm px-2 py-1 cursor-pointer text-center">
              {{getTotalDFILocked() |  number: '1.2-2'}} /
              <app-price [fiat]="fiat" [usdPrice]="getTotalDFILocked() * this.poolUsdc?.priceB"></app-price>
            </div>
          </div>

          <div>
            <span class="mr-2">Total DFI Burned:</span>
            <div
              class="inline-block rounded-full bg-pink-500 hover:bg-gray-800 transition-all text-white text-sm px-2 py-1 cursor-pointer text-center">
              {{burnedDfi |  number: '1.2-2'}} /
              <app-price [fiat]="fiat" [usdPrice]="burnedDfi * this.poolUsdc?.priceB"></app-price>
            </div>
          </div>
        </div>
      </div>
      <div class="inline-lg-block rounded bg-gray-100 dark:bg-gray-700 dark:text-white p-2">
        <h1 class="text-lg font-bold">DEX</h1>

        <div class="grid gap-2">
          <div>
            <span class="mr-2">DFI DEX:</span>
            <div
              class="inline-block rounded-full bg-pink-500 hover:bg-gray-800 transition-all text-white text-sm px-2 py-1 cursor-pointer text-center">
              {{getDexDFI()  |  number: '1.2-2'}} -
              <app-price [fiat]="fiat" [usdPrice]="getDexDFI() * this.poolUsdc?.priceB"></app-price>
            </div>
          </div>
          <div>
            <span class="mr-2">TVL DEX:</span>
            <div
              class="inline-block rounded-full bg-pink-500 hover:bg-gray-800 transition-all text-white text-sm px-2 py-1 cursor-pointer text-center">
              <app-price [fiat]="fiat" [usdPrice]="dex?.tvl"></app-price>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="overflow-x-auto rounded-md my-4">
      <table class="max-w-full w-full rounded-md">
        <thead class="bg-gray-200 dark:bg-gray-800 dark:text-pink-500 dark:border-pink-500 border-b">
        <tr>
          <th class="text-left p-2">{{ 'currency' | translate }}</th>
          <th class="text-right p-2">{{ 'price' | translate }}</th>
          <th class="text-right p-2">{{ 'Pool TVL' | translate }}</th>
          <th class="text-right p-2">Pool {{ 'correlation' | translate}}</th>
          <th class="text-right p-2">{{ 'APR' | translate }}</th>
        </tr>
        </thead>
        <tbody>
        <tr class="dark:text-gray-100 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600">
          <td class="p-2">BTC</td>
          <td class="text-right p-2">
            <app-price [fiat]="fiat" [usdPrice]="poolBtc?.priceA"></app-price>
          </td>
          <td class="text-right p-2">
            <app-price [fiat]="fiat" [usdPrice]="poolBtc?.totalStaked"></app-price>
            <br>
            <span class="text-xs">{{poolBtc?.reserveA | number: '1.2-2'}} BTC - {{poolBtc?.reserveB | number: '1.2-2'}}
              DFI</span>
          </td>
          <td class="text-right p-2">
            {{corr?.btcPool}}
          </td>
          <td class="text-right p-2">
            {{poolBtc?.apy | number: '1.2-2' }}%
          </td>
        </tr>

        <tr class="dark:text-gray-100 hover:bg-gray-200 dark:hover:bg-gray-600">
          <td class="p-2">ETH</td>
          <td class="text-right p-2">
            <app-price [fiat]="fiat" [usdPrice]="poolEth?.priceA"></app-price>
          </td>
          <td class="text-right p-2">
            <app-price [fiat]="fiat" [usdPrice]="poolEth?.totalStaked"></app-price>
            <br>
            <span class="text-xs">{{poolEth?.reserveA | number: '1.2-2'}} ETH - {{poolEth?.reserveB | number: '1.2-2'}}
              DFI</span>
          </td>
          <td class="text-right p-2">
            {{
            corr?.ethPool
            }}
          </td>
          <td class="text-right p-2">
            {{poolEth?.apy | number: '1.2-2' }}%
          </td>
        </tr>

        <tr class="dark:text-gray-100 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600">
          <td class="p-2">USDT</td>
          <td class="text-right p-2">
            <app-price [fiat]="fiat" [usdPrice]="poolUsdt?.priceA "></app-price>
          </td>
          <td class="text-right p-2">
            <app-price [fiat]="fiat" [usdPrice]="poolUsdt?.totalStaked "></app-price>
            <br>
            <span class="text-xs">{{poolUsdt?.reserveA | number: '1.2-2'}}
              USDT - {{poolUsdt?.reserveB | number: '1.2-2'}} DFI</span>
          </td>
          <td class="text-right p-2">
            {{
            corr?.usdtPool
            }}
          </td>
          <td class="text-right p-2">
            {{poolUsdt?.apy | number: '1.2-2' }}%
          </td>
        </tr>
        <tr class="dark:text-gray-100 hover:bg-gray-200 dark:hover:bg-gray-600">
          <td class="p-2">USDC</td>
          <td class="text-right p-2">
            <app-price [fiat]="fiat" [usdPrice]="poolUsdc?.priceA "></app-price>
          </td>
          <td class="text-right p-2">
            <app-price [fiat]="fiat" [usdPrice]="poolUsdc?.totalStaked "></app-price>
            <br>
            <span class="text-xs">{{poolUsdc?.reserveA | number: '1.2-2'}}
              USDC - {{poolUsdc?.reserveB | number: '1.2-2'}} DFI</span>
          </td>
          <td class="text-right p-2">
            {{
            corr?.usdcPool
            }}
          </td>
          <td class="text-right p-2">
            {{poolUsdc?.apy | number: '1.2-2' }}%
          </td>
        </tr>

        <tr class="dark:text-gray-100 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600">
          <td class="p-2">LTC</td>
          <td class="text-right p-2">
            <app-price [fiat]="fiat" [usdPrice]="poolLtc?.priceA"></app-price>
          </td>
          <td class="text-right p-2">
            <app-price [fiat]="fiat" [usdPrice]="poolLtc?.totalStaked"></app-price>
            <br>
            <span class="text-xs">{{poolLtc?.reserveA | number: '1.2-2'}} LTC - {{poolLtc?.reserveB | number: '1.2-2'}}
              DFI</span>
          </td>
          <td class="text-right p-2">
            {{
            corr?.ltcPool
            }}
          </td>
          <td class="text-right p-2">
            {{poolLtc?.apy | number: '1.2-2' }}%
          </td>
        </tr>

        <tr class="dark:text-gray-100 hover:bg-gray-200 dark:hover:bg-gray-600">
          <td class="p-2">DOGE</td>
          <td class="text-right p-2">
            <app-price [fiat]="fiat" [usdPrice]="poolDoge?.priceA "></app-price>
          </td>
          <td class="text-right p-2">
            <app-price [fiat]="fiat" [usdPrice]="poolDoge?.totalStaked"></app-price>
            <br>
            <span class="text-xs">{{poolDoge?.reserveA | number: '1.2-2'}}
              DOGE - {{poolDoge?.reserveB | number: '1.2-2'}} DFI</span>
          </td>
          <td class="text-right p-2">
            {{
            corr?.dogePool
            }}
          </td>
          <td class="text-right p-2">
            {{poolDoge?.apy | number: '1.2-2' }}%
          </td>
        </tr>

        <tr class="dark:text-gray-100 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600">
          <td class="p-2">BCH</td>
          <td class="text-right p-2">
            <app-price [fiat]="fiat" [usdPrice]="poolBch?.priceA"></app-price>
          </td>
          <td class="text-right p-2">
            <app-price [fiat]="fiat" [usdPrice]="poolBch?.totalStaked"></app-price>
            <br>
            <span class="text-xs">{{poolBch?.reserveA | number: '1.2-2'}} BCH - {{poolBch?.reserveB | number: '1.2-2'}}
              DFI</span>
          </td>
          <td class="text-right p-2">
            {{
            corr?.bchPool
            }}
          </td>
          <td class="text-right p-2">
            {{poolBch?.apy | number: '1.2-2' }}%
          </td>
        </tr>

        <tr class="dark:text-gray-100 hover:bg-gray-200 dark:hover:bg-gray-600">
          <td class="p-2">DFI</td>
          <td class="text-right p-2">
            <app-price [fiat]="fiat" [usdPrice]="poolBtc?.priceB"></app-price>
          </td>
          <td class="text-right p-2"></td>
          <td class="text-right p-2"></td>
          <td class="text-right p-2"></td>
        </tr>
        </tbody>
      </table>
    </div>
  </div>
  <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-4">
    <div class="rounded-lg bg-gray-100 dark:bg-gray-700 dark:text-white p-2">
      <h1 class="text-lg font-bold">Staking</h1>
      <div class="mb-1 w-full sm:mr-4">
        Staking Cake:
        <span
          class="rounded-full bg-pink-500 hover:bg-gray-800 transition-all text-white text-sm px-2 py-1 cursor-pointer"
        >
          {{ this.stakingApyCake | number: '1.1-1' }}% APY
        </span>
      </div>
      <div class="w-full">
        Staking Masternode:
        <div
          class="rounded-full bg-pink-500 hover:bg-gray-800 transition-all text-white text-sm px-2 py-1 cursor-pointer inline-block"
        >
          {{ this.stakingApyMN | number: '1.1-1' }}% APR
        </div>
      </div>

    </div>
    <div class="rounded-lg bg-gray-100 dark:bg-gray-700 dark:text-white p-2">
      <h1 class="text-lg font-bold">Masternodes</h1>

      <div class="mb-1 w-full grid gap-2 auto-rows-max">
        <div class="w-full dark:text-gray-100">
          Total:
          <div
            class="inline-block rounded-full bg-pink-500 hover:bg-gray-800 transition-all text-white text-sm px-2 py-1 cursor-pointer text-center"
          >
            {{ MNCount }} / {{ MNCount * 20000 / 1000000 }} Mio. DFI /
            <app-price [fiat]="fiat" [usdPrice]="getMasternodeTVL()"></app-price>
          </div>
        </div>
        <div class="w-full dark:text-gray-100">
          5Y Freezer:
          <div
            class="inline-block rounded-full bg-pink-500 hover:bg-gray-800 transition-all text-white text-sm px-2 py-1 cursor-pointer text-center"
          >
            {{ MNCount5Freezer }} /  {{ MNCount5Freezer * 20000 / 1000000 }} Mio. DFI
            /
            <app-price [fiat]="fiat" [usdPrice]="this.MNCount5Freezer * 20000  * this.poolUsdc?.priceB"></app-price>
          </div>
        </div>
        <div class="w-full dark:text-gray-100">
          10Y Freezer:
          <div
            class="inline-block rounded-full bg-pink-500 hover:bg-gray-800 transition-all text-white text-sm px-2 py-1 cursor-pointer text-center"
          >
            {{ MNCount10Freezer }} /  {{ MNCount10Freezer * 20000 / 1000000 }} Mio. DFI
            /
            <app-price [fiat]="fiat" [usdPrice]="this.MNCount10Freezer * 20000  * this.poolUsdc?.priceB"></app-price>
          </div>
        </div>
        <div class="w-full dark:text-gray-100">
          0Y Freezer:
          <div
            class="inline-block rounded-full bg-pink-500 hover:bg-gray-800 transition-all text-white text-sm px-2 py-1 cursor-pointer text-center"
          >
            {{ MNCount0Freezer }} /  {{ MNCount0Freezer * 20000 / 1000000 }} Mio. DFI
            /
            <app-price [fiat]="fiat" [usdPrice]="this.MNCount0Freezer * 20000  * this.poolUsdc?.priceB"></app-price>
          </div>
        </div>
      </div>
    </div>
    <div class="rounded-lg bg-gray-100 dark:bg-gray-700 dark:text-white p-2">
      <h1 class="text-lg font-bold">Rewards</h1>
      <div class="mb-2">
        Total:
        <div
          class="inline-block rounded-full bg-pink-500 hover:bg-gray-800 transition-all text-white text-sm px-2 py-1 cursor-pointer text-center"
        >
          {{rewards?.rewards?.total |  number: '1.2-2'  }}
        </div>
      </div>
      <div class="mb-2">
        LM:
        <div
          class="inline-block rounded-full bg-pink-500 hover:bg-gray-800 transition-all text-white text-sm px-2 py-1 cursor-pointer text-center">
          {{rewards?.rewards?.liquidity |  number: '1.2-2' }}
        </div>
        Masternode:
        <div
          class="inline-block rounded-full bg-pink-500 hover:bg-gray-800 transition-all text-white text-sm px-2 py-1 cursor-pointer text-center">
          {{rewards?.rewards?.minter |  number: '1.2-2'  }} </div>
      </div>
      <div>
        Anchor:
        <div
          class="inline-block rounded-full bg-pink-500 hover:bg-gray-800 transition-all text-white text-sm px-2 py-1 cursor-pointer text-center"
        >
          {{rewards?.rewards?.anchor |  number: '1.2-2'  }}
        </div>
        Community:
        <div
          class="inline-block rounded-full bg-pink-500 hover:bg-gray-800 transition-all text-white text-sm px-2 py-1 cursor-pointer text-center"
        >
          {{rewards?.rewards?.community |  number: '1.2-2'  }}</div>

      </div>
    </div>
    <div class="inline-lg-block rounded bg-gray-100 dark:bg-gray-700 dark:text-white p-2">
      <h1 class="text-lg font-bold">Block</h1>

      <div class="my-2 dark:text-gray-100">
        <span class="mr-2">Block:</span>
        <div
          class="inline-block rounded-full bg-pink-500 hover:bg-gray-800 transition-all text-white text-sm px-2 py-1 cursor-pointer text-center">
          {{ rewards?.blockHeight }}
        </div>
      </div>
      <div class="my-2 dark:text-gray-100">
          <span
            class="mr-2">Blocktime ({{ 'blocktime' | translate: {count: blockCountForCalc === -1 ? 'Fix 30s' : blockCountForCalc} }}
            ):</span>
        <div
          class="inline-block rounded-full bg-pink-500 hover:bg-gray-800 transition-all text-white text-sm px-2 py-1 cursor-pointer text-center">
          Avg {{blockTimeUsed ? blockTimeUsed : 0}} s (Median {{ blockTimeSecond ? blockTimeSecond : 0}} s)
        </div>
      </div>
      <div class="my-2 dark:text-gray-100">
        <span class="mr-2">{{ 'blocksTillCycle' | translate }}</span>
        <div
          class="inline-block rounded-full bg-pink-500 hover:bg-gray-800 transition-all text-white text-sm px-2 py-1 cursor-pointer text-center">
          {{getBlockToNextCycle()}}
        </div>
      </div>
      <div class="my-2 dark:text-gray-100">
        <span class="mr-2">{{ 'blocksTillDiff' | translate }}</span>
        <div
          class="inline-block rounded-full bg-pink-500 hover:bg-gray-800 transition-all text-white text-sm px-2 py-1 cursor-pointer text-center">
          {{getBlockToNextDiffChange()}}
        </div>
      </div>
    </div>
  </div>
  <br>
  <div class="grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 gap-4">
    <div class="rounded-lg bg-gray-100 dark:bg-gray-700 dark:text-white p-2">
      <h1 class="text-lg font-bold">Upgrades</h1>
      <div *ngFor="let m of milestones">
        <div class="mb-1 w-full sm:mr-4">
          <span
            class="rounded-full bg-pink-500 hover:bg-gray-800 transition-all text-white text-sm px-2 py-1 cursor-pointer">
            {{ m.title }} -
            <span>{{m.closed_issues / (m.closed_issues + m.open_issues) * 100 | number: '1.0-0' }} %</span>

          </span>
          <br>
          <a    class="text-pink-500 hover:underline"
                target="_blank"
                href="{{m?.html_url}}">Link in github</a>
          <br>
          <span>{{m.closed_issues}} &#9989; - {{m.open_issues}} &#9203;</span>
          <br>
          <span class="text-sm">{{ m.description}}</span>
          <br>
          <span class="text-sm">{{ m.updated_at | date}} last update</span>
        </div>
        <br>
      </div>
    </div>
    <div class="rounded-lg bg-gray-100 dark:bg-gray-700 dark:text-white p-2">
      <h1 class="text-lg font-bold">Node</h1>
      <span
        class="rounded-full bg-pink-500 hover:bg-gray-800 transition-all text-white text-sm px-2 py-1 cursor-pointer">
            {{ getLatestReleaseNode()?.name }}
          </span>
      <br>
      <a    class="text-pink-500 hover:underline"
            target="_blank"
            href="{{getLatestReleaseNode()?.html_url}}">Link in github</a>
      <br>
      <span class="text-sm">{{ getLatestReleaseNode()?.published_at | date}}</span>
      <br>
      <markdown class="prose-sm dark:prose-white" [data]="getReleaseText(getLatestReleaseNode()?.body)" ></markdown>
    </div>
    <div class="rounded-lg bg-gray-100 dark:bg-gray-700 dark:text-white p-2">
      <h1 class="text-lg font-bold">Desktop App</h1>
      <span
        class="rounded-full bg-pink-500 hover:bg-gray-800 transition-all text-white text-sm px-2 py-1 cursor-pointer">
            {{ getLatestReleaseApp()?.name }}
          </span>
      <br>
      <a    class="text-pink-500 hover:underline"
            target="_blank"
            href="{{getLatestReleaseNode()?.html_url}}">Link in github</a>
      <br>
      <span class="text-sm">{{ getLatestReleaseApp()?.published_at | date}}</span>
      <br>
      <markdown class="prose-sm dark:prose-white" [data]="getLatestReleaseApp()?.body" ></markdown>
    </div>
    <div class="rounded-lg bg-gray-100 dark:bg-gray-700 dark:text-white p-2">
      <h1 class="text-lg font-bold">Mobile Light Wallet</h1>
      <span
        class="rounded-full bg-pink-500 hover:bg-gray-800 transition-all text-white text-sm px-2 py-1 cursor-pointer">
            {{ getLatestReleaseWallet()?.name }}
          </span>
      <br>
      <a    class="text-pink-500 hover:underline"
            target="_blank"
            href="{{getLatestReleaseNode()?.html_url}}">Link in github</a>
      <br>
      <span class="text-sm">{{ getLatestReleaseWallet()?.published_at | date}}</span>
      <br>
      <markdown class="prose-sm dark:prose-white" [data]="getReleaseTextWallet(getLatestReleaseWallet()?.body)" ></markdown>
    </div>
  </div>
</div>
